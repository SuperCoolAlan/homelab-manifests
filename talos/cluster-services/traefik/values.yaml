service:
  type: LoadBalancer

# Enable metrics and ServiceMonitor
metrics:
  prometheus:
    entryPoint: metrics
    addEntryPointsLabels: true
    addRoutersLabels: true
    addServicesLabels: true
    service:
      enabled: true
    serviceMonitor:
      enabled: true

ingressClass:
  enabled: true
  isDefaultClass: false
  name: traefik

# Enable Kubernetes Ingress provider (needed for forward-auth middleware)
providers:
  kubernetesIngress:
    enabled: true
    allowExternalNameServices: true
  kubernetesCRD:
    enabled: true
    allowExternalNameServices: true

# Ports configuration
ports:
  web:
    port: 8000
    exposedPort: 80
    protocol: TCP
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
          permanent: true
  websecure:
    port: 8443
    exposedPort: 443
    protocol: TCP
  ldap:
    port: 3890
    exposedPort: 389
    expose:
      default: true
    protocol: TCP

# Enable dashboard for debugging (internal only)
ingressRoute:
  dashboard:
    enabled: false

# VictoriaLogs Single values
# Log storage backend

server:
  enabled: true

  # 30 day retention for logs
  retentionPeriod: 30d

  # Limit disk usage to 100GB
  retentionDiskSpaceUsage: 100GB

  nodeSelector:
    kubernetes.io/hostname: talos-ramhaus

  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      memory: 512Mi

  persistentVolume:
    enabled: true
    storageClassName: vlogs-local
    size: 100Gi
    accessModes:
      - ReadWriteOnce

  ingress:
    enabled: true
    ingressClassName: traefik
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
      traefik.ingress.kubernetes.io/router.tls: "true"
      external-dns.alpha.kubernetes.io/target: 10.0.7.201
    hosts:
      - name: logs.local.asandov.com
        path: /
        pathType: Prefix

# Falco values overrides for homelab
# Ref: https://github.com/falcosecurity/charts/blob/master/charts/falco/values.yaml

driver:
  # Use modern eBPF driver - required for Talos (no kernel headers available)
  kind: modern_ebpf

falco:
  grpc:
    enabled: true
  grpc_output:
    enabled: true
  json_output: true
  http_output:
    enabled: true
    url: "http://falcosidekick.falco.svc:2801/"

serviceMonitor:
  # Enable Prometheus ServiceMonitor
  enabled: true

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    memory: 1Gi

# Only run on ramhaus (flyer has limited RAM)
nodeSelector:
  kubernetes.io/hostname: talos-ramhaus

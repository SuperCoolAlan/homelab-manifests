# Falcosidekick values
# Connects Falco to outputs including the UI

config:
  extraEnv:
    - name: DISCORD_WEBHOOKURL
      valueFrom:
        secretKeyRef:
          name: falcosidekick-discord
          key: DISCORD_WEBHOOKURL
  discord:
    minimumpriority: warning

# Enable the web UI
webui:
  enabled: true
  replicaCount: 1
  loglevel: info
  # User credentials for the UI
  user: "admin:admin"
  ingress:
    enabled: true
    ingressClassName: traefik
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: websecure
      traefik.ingress.kubernetes.io/router.tls: "true"
      external-dns.alpha.kubernetes.io/target: 10.0.7.201
    hosts:
      - host: falco.local.asandov.com
        paths:
          - path: /
            pathType: Prefix
  # Redis for the UI - use emptyDir (no persistent storage)
  redis:
    storageEnabled: false
    storageClass: ""
    storageSize: ""

resources:
  requests:
    cpu: 10m
    memory: 64Mi
  limits:
    memory: 128Mi

# Jellyseerr configuration for media requests
persistentVolumeClaims:
  jellyseerr-config:
    requestStorage: '5Gi'
    storageClassName: 'nfs'

# Use specific UID/GID that matches TrueNAS NFS user
deployment:
  nodeSelector:
    kubernetes.io/hostname: talos-ramhaus
  container:
    image:
      repository: 'fallenbagel/jellyseerr'
      tag: 'preview-OIDC'
      pullPolicy: Always
    env:
      - name: PUID
        value: "1000"
      - name: PGID
        value: "3001"
      - name: TZ
        value: "America/New_York"
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "1Gi"
        cpu: "1000m"

# Disable initial config to let it create its own
application:
  config: null

ingress:
  enabled: true
  className: traefik
  host: jellyseerr.asandov.local
  path: /
  pathType: Prefix
  annotations:
    external-dns.alpha.kubernetes.io/hostname: jellyseerr.asandov.local